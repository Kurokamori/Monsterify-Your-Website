
/* ---- Cards (Monster & variants) ---- */
.monster-card {
  display: flex;
  flex-direction: column;
  background: var(--nav-active);
  border-radius: 10px;
  overflow: hidden;
  text-decoration: none;
  color: var(--text-color);
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  height: max-content;
  width: 30vh;
  border: 1px solid var(--border-color);
  cursor: pointer;
  padding: 1.5rem;
}

.monster-card:hover, .bazzar-monster-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,.15); }
.monster-card.selected, .bazzar-monster-card.selected { border-color: var(--accent-color); background-color: var(--accent-color-light, rgba(214,163,57,.08)); }
.monster-card.full-height { height: 80vh; }
.monster-card.full-height .monster-card-image { height: 220px; }

.bazzar-monster-card {
  display:flex;
  background-color: var(--nav-active);
  flex-direction: column;
  padding: 1.5rem;
  border-radius : 8%;
  cursor: pointer;
  color: var(--text-color);
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  height: max-content;
}

.bazzar-monster-types {
  display: inline-block;
  color: var(--type-color);
  border-radius: 4px;
  padding: 0.25rem 0.5rem;
  margin-right: 0.5rem;
  font-size: var(--font-size-xs);
}

.result-image {
  width: 200px;
  height: 100%;
  object-fit: contain;
}

.search-result-item:hover { transform: scale(1.05); border: 2px solid var(--accent-color); }

.add-relationship-button {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, var(--accent-color) 0%, var(--accent-hover) 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all .2s ease;
}

/* Team & reward variants */
.monster-team-card {
  background: #fff;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  border: 2px solid #e9ecef;
  transition: all .3s ease;
  overflow: hidden;
  animation: cardFadeIn .5s ease-out;
}

.monster-team-card:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,0,0,.15); border-color: #6f42c1; }
.monster-reward-card {
  min-height: 550px;
  height: auto;
  background-color: var(--card-background, #fff);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
  padding: 20px;
  position: relative;
  display: flex;
  flex-direction: column;
  transition: transform .2s, box-shadow .2s;
  overflow: hidden;
  margin-bottom: 20px;
}

.monster-reward-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,.15); }
.monster-reward-card.claimed { opacity: .8; background-color: rgba(0,0,0,.05); }
.monster-reward-card.epic { border: 2px solid #8b5cf6; box-shadow: 0 4px 20px rgba(139,92,246,.2); }
.monster-reward-card.mythical { border: 2px solid #f59e0b; box-shadow: 0 4px 25px rgba(245,158,11,.3); animation: mythical-card-glow 3s ease-in-out infinite alternate; }
.monster-reward-card.legendary { border: 2px solid #fbbf24; box-shadow: 0 4px 30px rgba(251,191,36,.4); animation: legendary-card-glow 2s ease-in-out infinite alternate; }

/* ---- Card Headers / Meta ---- */
.monster-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid #f8f9fa;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.monster-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  background-color: var(--nav-background);
  border-bottom: 1px solid var(--divider-color);
}

.monster-card-header .monster-level { background: transparent; color: var(--text-color-secondary); padding: 0; }

.monster-detail-container {
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--content-padding);
}

/* ---- Card Media ---- */
.monster-image-container {
  position: relative;
  overflow: hidden;
  max-height: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.monster-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: transform 0.3s;
  flex-shrink: 0;
  border-radius: 8px;
  overflow: hidden;
  border: 2px solid var(--border-color);
}

.monster-card:hover .monster-image { transform: scale(1.05); }
.selected-badge {
  position: absolute;
  top: .5rem;
  right: .5rem;
  width: 1.5rem;
  height: 1.5rem;
  background-color: var(--accent-color);
  color: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-sm);
}

.monster-card-image {
  position: relative;
  width: 100%;
  height: 180px;
  overflow: hidden;
  background-color: var(--nav-hover);
  display: flex;
  justify-content: center;
  align-items: center;
}

.monster-card-image img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transition: transform 0.3s;
}

/* ---- Card Body ---- */
.monster-info {
  flex: 1;
  padding: 1.25rem;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  background: transparent;
  border-radius: 0;
  margin-bottom: 1.5rem;
  align-items: flex-start;
}

.monster-card-info {
  padding: 15px;
}

 /* (internal helper) */
.monster-species {
  font-size: 1.1rem;
  font-weight: 500;
  margin-bottom: 10px;
  color: var(--text-color);
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

.special-feature-card {
  background-color: var(--card-background, #fff);
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
  padding: 20px;
  position: relative;
  display: flex;
  flex-direction: column;
  transition: transform .2s, box-shadow .2s;
  overflow: hidden;
  margin-bottom: 20px;
  align-items: center;
}

.special-feature-card:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,0,0,.15); }
.special-feature-card.claimed { opacity: .8; background-color: rgba(0,0,0,.05); }
.special-feature-card.epic { border: 2px solid #8b5cf6; box-shadow: 0 4px 20px rgba(139,92,246,.2); }
.special-feature-card.mythical { border: 2px solid #f59e0b; box-shadow: 0 4px 25px rgba(245,158,11,.3); animation: mythical-card-glow 3s ease-in-out infinite alternate; }
.special-feature-card.legendary { border: 2px solid #fbbf24; box-shadow: 0 4px 30px rgba(251,191,36,.4); animation: legendary-card-glow 2s ease-in-out infinite alternate; }

/* ---- Badges: Types & Attributes ---- */
.monster-types {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 10px;
}

.monster-type {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 0.8rem;
  font-weight: 500;
  color: white;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.3);
  margin-top: .25rem;
}
 /* legacy alias */
.attribute-label {
  font-weight: 600;
  color: var(--text-color);
  min-width: 100px;
}


/* Attribute color sets (domain-specific) */

 /* speed (role) */

/* ---- Stats (compact + panel variants) ---- */
.monster-stats {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  margin-top: .5rem;
}

.stat-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 5px;
  font-size: 0.9rem;
}





/* ---- Search ---- */
.monster-search {
  display: flex;
  margin-bottom: 1rem;
}

/* uses global .search-input from other pages; no local duplicate here */

/* ---- Result / Empty / Loading ---- */
.monster-result {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.monster-result h3 { margin-bottom: 20px; color: #333; text-align: center; }
.monster-card-container {
  width: 100%;
  max-width: 400px;
  margin-bottom: 20px;
}

.no-monsters {
  grid-column: 1 / -1;
  text-align: center;
  padding: 2rem;
  background-color: var(--card-background);
  border-radius: .5rem;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
  min-height: 200px;
}

.no-monsters-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 3rem 0;
  text-align: center;
  background-color: var(--nav-background);
  border-radius: .5rem;
  min-height: 200px;
}

.no-monsters-message i { font-size: 3rem; color: var(--accent-color); margin-bottom: 1rem; opacity: .7; }
.no-monsters-message p { font-size: var(--font-size-lg); color: var(--text-color); opacity: .8; }

/* ---- Modal & Large Detail Bits ---- */
.monster-modal-content {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.monster-header h3 { font-size: var(--font-size-xl); color: var(--accent-color); margin: 0; }
.monster-description {
  font-size: var(--font-size-sm);
  line-height: 1.5;
  color: var(--text-color);
  margin: 0;
}


/* ---- Buttons / Actions ---- */
.monster-select-btn {
  width: 100%;
  margin-top: 15px;
  padding: 12px;
  font-weight: 600;
  border-radius: 6px;
  transition: all .3s ease;
}

.monster-select-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,.15); }
.monster-actions {
  display: flex;
  gap: .5rem;
}

.item-actions {
  margin-top: auto;
  text-align: center;
  position: relative;
  z-index: 1;
}

.view-all-container {
  display: flex;
  justify-content: center;
  margin-top: 1.5rem;
}


.view-all-button:hover { background-color: var(--accent-hover); }
.add-monster-btn {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .75rem 1.5rem;
  font-weight: 600;
  border-radius: 8px;
  border: none;
  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
  color: #fff;
  cursor: pointer;
  transition: all .2s;
}

.add-monster-btn:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,123,255,.3); }
.add-monster-btn:disabled { opacity: .6; cursor: not-allowed; transform: none; }

/* ---- Forms / Inputs ---- */
.monster-adoption-form {
  max-width: 400px;
  margin: 0 auto;
  padding: 15px;
  background-color: var(--card-background);
  border-radius: 8px;
}

.monster-name-input {
  margin-bottom: 2rem;
  text-align: center;
}

.monster-name-input label { display: block; margin-bottom: .5rem; font-weight: 600; }
.monster-name-input input {
  padding: .75rem 1rem; border: none; border-radius: 8px; font-size: 1rem; width: 300px; max-width: 100%;
  text-align: center; background: rgba(255,255,255,.9); color: #333;
}
.monster-option {
  position: relative;
  cursor: pointer;
  transition: all .3s ease;
  border-radius: 12px;
  overflow: hidden;
  background: rgba(255,255,255,.1);
  border: 2px solid transparent;
}

.monster-option:hover:not(.disabled) { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,.2); border-color: rgba(255,255,255,.3); }
.monster-option.selected { border-color: #4CAF50; box-shadow: 0 0 20px rgba(76,175,80,.4); transform: translateY(-5px); }
.monster-option.disabled { opacity: .6; cursor: not-allowed; }

/* ---- Tables ---- */
.monster-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 10px;
}

.monster-table th, .monster-table td { padding: 10px; text-align: left; border-bottom: 1px solid var(--divider-color); }
.monster-table th { background-color: var(--nav-background); color: var(--accent-color); font-weight: 600; }
.monster-table tr:hover { background-color: var(--nav-hover); }

/* ---- Toggles / Filters ---- */
.monster-types-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}


.monster-table th.sortable {
  cursor: pointer;
  position: relative;
  padding-right: 2rem;
}

.monster-table th.sortable:hover {
  background-color: var(--nav-hover);
}

.monster-table th.active {
  color: var(--accent-color);
}

.monster-table th.sortable i {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
}

.monster-cell-content {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.monster-table-image {
  width: 60%;
  height: 60px;
  border-radius: 50%;
  object-fit: contain;
  background-color: var(--nav-background);
}

.monster-table-name {
  font-weight: 500;
}

.monster-table-types {
  display: flex;
  gap: 0.25rem;
}

.monster-type-toggle {
  display: flex;
  align-items: center;
}

.monster-type-toggle input[type="checkbox"] { margin-right: .5rem; width: 18px; height: 18px; cursor: pointer; }
.monster-type-toggle label { display: flex; align-items: center; cursor: pointer; font-weight: normal; }
.monster-type-icon {
  display: inline-block;
  width: 24px;
  height: 24px;
  margin-right: .5rem;
  text-align: center;
  font-size: 18px;
}

.monsters-filters {
  background: var(--hover-background);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}


/* ---- PC Box / Storage ---- */
.pc-box-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding: 1rem;
  background-color: var(--nav-background);
  border-radius: .5rem;
}

.pc-box-info h3 { font-size: var(--font-size-lg); color: var(--accent-color); margin-bottom: .25rem; }
.pc-box-info p { font-size: var(--font-size-sm); opacity: .8; }
.pc-box-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.pc-box-nav-button {
  background-color: var(--card-background);
  border: none;
  border-radius: .25rem;
  width: 2.5rem;
  height: 2.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all .2s;
}

.pc-box-nav-button:hover:not(:disabled) { background-color: var(--accent-color); color: #fff; }
.pc-box-nav-button:disabled { opacity: .5; cursor: not-allowed; }
.pc-box-number {
  font-size: var(--font-size-sm);
  font-weight: 500;
}

.pc-search-container {
  margin-bottom: 1.5rem;
  padding: 1rem;
  background-color: var(--card-background);
  border-radius: .5rem;
  border: 1px solid var(--divider-color);
}

.pc-box-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: .5rem;
  background-color: var(--card-background);
  padding: 1rem;
  border-radius: .5rem;
  box-shadow: inset 0 0 10px rgba(0,0,0,.1);
  min-height: 1000px;
}

.pc-box-slot {
  aspect-ratio: 1;
  background-color: rgba(255,255,255,.05);
  border-radius: .375rem;
  transition: all .2s;
  min-height: 100px;
  max-height: 100px;
  position: relative;
}

.pc-box-monster {
  display: flex;
  flex-direction: column;
  height: 100px;
  text-decoration: none;
  color: var(--text-color);
}

.pc-box-monster:hover { transform: translateY(-2px); }
.pc-box-monster-image-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: .5rem;
  background-color: rgba(0,0,0,.1);
  min-height: 90px;
}

.pc-box-monster-image {
  width: 100%;
  height: 80px;
  object-fit: contain;
}

.pc-box-monster-info {
  padding: .75rem .5rem;
  background-color: rgba(0,0,0,.2);
  min-height: 60px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.pc-box-monster-name {
  font-size: var(--font-size-sm);
  font-weight: 600;
  white-space: normal;
  overflow: visible;
  text-overflow: unset;
  margin-bottom: .25rem;
  line-height: 1.2;
  word-wrap: break-word;
}

.pc-box-monster-details {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.pc-box-monster-level {
  font-size: var(--font-size-xs);
  background-color: var(--accent-color);
  color: black;
  padding: .125rem .375rem;
  border-radius: 1rem;
}

.pc-box-monster-types {
  display: flex;
  gap: .25rem;
}

.pc-box-monster-types .type-badge { width: .75rem; height: .75rem; border-radius: 50%; padding: 0; }
.pc-box-empty-slot {
  height: 100%;
  background-color: rgba(255,255,255,.02);
  border: 1px dashed rgba(255,255,255,.1);
  border-radius: .25rem;
  transition: all .2s ease;
}

.pc-box-empty-slot:hover { background-color: rgba(255,255,255,.05); border-color: rgba(255,255,255,.2); }

/* ---- Box Previews ---- */
.all-boxes-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
}

.box-preview-container {
  background-color: var(--card-background);
  border-radius: .5rem;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
  transition: all .2s;
}

.box-preview-container:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
.box-preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .75rem 1rem;
  background-color: var(--accent-color);
  color: black;
}

.box-preview-header h3 { font-size: var(--font-size-base); font-weight: 600; }
.box-preview-header span { font-size: var(--font-size-sm); opacity: .8; }
.box-preview {
  padding: 1.5rem;
}

.box-preview-title {
  text-align: center;
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: var(--accent-color);
  padding: .5rem;
  background-color: rgba(var(--accent-color-rgb,214,163,57), .05);
  border-radius: .25rem;
  margin-bottom: 1rem;
  cursor: pointer;
  transition: all .2s;
}

.box-preview-title:hover { background-color: rgba(var(--accent-color-rgb,214,163,57), .1); transform: translateY(-2px); }
.box-preview-grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(5, 1fr);
  gap: .75rem;
  margin-bottom: .5rem;
}

.box-preview-slot {
  aspect-ratio: 1;
  background-color: rgba(255,255,255,.05);
  border-radius: .375rem;
  overflow: hidden;
  min-height: 60px;
  position: relative;
}

.box-preview-monster {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: .25rem;
  transition: all .2s;
  text-decoration: none;
  color: var(--text-color);
}

.box-preview-monster:hover { background-color: rgba(var(--accent-color-rgb,214,163,57), .1); transform: scale(1.05); }
.box-preview-monster-image {
  width: 100%;
  height: 30px;
  object-fit: contain;
  margin-bottom: .375rem;
}

.box-preview-monster-name {
  font-size: .75rem;
  font-weight: 600;
  text-align: center;
  line-height: 1.2;
  word-wrap: break-word;
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  min-height: 1.8rem;
}

.box-preview-empty-slot {
  height: 100%;
  background-color: rgba(255,255,255,.02);
  border: 1px dashed rgba(255,255,255,.1);
  border-radius: .25rem;
  transition: all .2s ease;
}

.box-preview-empty-slot:hover { background-color: rgba(255,255,255,.05); border-color: rgba(255,255,255,.2); }

/* ---- Edit / Create ---- */
.edit-monster-container {
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 2rem var(--content-padding);
}

.edit-monster-container h1 { font-size: var(--font-size-3xl); color: var(--accent-color); margin-bottom: 1.5rem; }
.edit-monster-form {
  background-color: var(--card-background);
  border-radius: .5rem;
  padding: 2rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.monster-details,
.enhanced-monster-details {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.monster-info-section, .item-info-section { background-color: var(--card-background); border-radius: .5rem; padding: 1.25rem; border: 1px solid var(--border-color); }
.monster-info-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: .75rem;
}

.submission-detail-monsters {
  margin-bottom: 2rem;
}



.monster-card-info h4 { color: #d6a339; margin-bottom: .25rem; }
.monster-card-info p { color: #8a8d98; margin-bottom: 0; }


/* ---- Option / List Blocks ---- */
.monster-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-bottom: 2rem;
}

.monsters-detailed-list {
  margin-bottom: 2rem;
}

.monsters-detailed-list h3 { margin-bottom: 1rem; color: var(--text-color); font-size: .5rem; border-bottom: 2px solid var(--border-color); padding-bottom: .5rem; }
.detailed-list-row .monster-name { font-weight: 400; font-size: smaller; color: var(--primary-color, var(--accent-color)); word-wrap: break-word; overflow-wrap: break-word; hyphens: auto; line-height: 1.3; }
.detailed-list-row .monster-level { font-weight: 500; }
.detailed-list-row { font-size: .775rem; color: var(--text-secondary); }
.detailed-list-row .monster-type { font-size: .75rem; padding: .25rem .5rem; border-radius: .25rem; text-align: center; font-weight: 500; text-transform: uppercase; letter-spacing: .05em; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,.3); }
.all-boxes-list .monsters-detailed-list:not(:last-child) { border-bottom: 2px solid var(--border-color); padding-bottom: 1.5rem; margin-bottom: 1.5rem; }

/* ---- Team Manager / Overlay ---- */
.monster-team-manager-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
}

.monster-team-manager {
  background: var(--card-background);
  border-radius: 16px;
  width: 100%;
  max-width: 1000px;
  max-height: 95vh;
  overflow-y: auto;
  box-shadow: 0 25px 80px rgba(0,0,0,.4);
  animation: modalSlideIn .4s ease-out;
}

.monster-team-manager.loading { max-width: 400px; text-align: center; }
.monster-header .placeholder-image { color: #6c757d; font-size: 1.5rem; }
.species-more, .types-more { display: inline-block; padding: .3rem .7rem; border-radius: 12px; font-size: .8rem; font-weight: 500; background: #6c757d; color: #fff; }
.monster-team-card[data-attribute="virus"] { border-left: 4px solid #8B4513; }
.monster-team-card[data-attribute="vaccine"] { border-left: 4px solid #4CAF50; }
.monster-team-card[data-attribute="data"] { border-left: 4px solid #2196F3; }
.monster-team-card[data-attribute="free"] { border-left: 4px solid #9C27B0; }
.monster-team-card[data-attribute="variable"] { border-left: 4px solid #FF9800; }

/* ---- Monster Selector ---- */
.monster-selector {
  background-color: var(--card-background, #1e2532);
  border-radius: 12px;
  padding: 1.25rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  height: 100%;
  width: 100%;
}

.monster-references {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
  margin-top: 10px;
}


.monster-selector-title {
  margin: 0;
  color: var(--accent-color, #d6a339);
  font-size: 1.25rem;
  font-weight: 600;
  letter-spacing: .5px;
  position: relative;
  padding-bottom: .5rem;
}

.monster-selector-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 40px; height: 3px; background-color: var(--accent-color, #d6a339); border-radius: 1.5px; }
.monster-selector-search {
  position: relative;
}

.monster-selector-search-input {
  width: 100%;
  padding: .75rem 1rem;
  padding-right: 2.5rem;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,.1);
  background-color: rgba(0,0,0,.2);
  color: var(--text-color, #d7ddf3);
  font-size: .95rem;
  transition: all .2s ease;
}

.monster-selector-search-input:focus { outline: none; border-color: var(--accent-color, #d6a339); box-shadow: 0 0 0 2px rgba(214,163,57,.2); }
.monster-selector-search-clear {
  position: absolute;
  right: .75rem;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: var(--text-color, #d7ddf3);
  font-size: 1.25rem;
  cursor: pointer;
  opacity: .6;
  transition: opacity .2s;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 50%;
}

.monster-selector-search-clear:hover { opacity: 1; background-color: rgba(255,255,255,.1); }
.monster-selector-error {
  color: var(--error-color, #ef4444);
  font-size: .9rem;
  padding: .5rem;
  background-color: rgba(239,68,68,.1);
  border-radius: 6px;
  border-left: 3px solid var(--error-color, #ef4444);
}

.monster-selector-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: .75rem;
  overflow-y: auto;
  padding-right: .5rem;
  scrollbar-width: thin;
  scrollbar-color: var(--accent-color,#d6a339) rgba(0,0,0,.2);
}

.monster-selector-grid::-webkit-scrollbar { width: 6px; }
.monster-selector-grid::-webkit-scrollbar-track { background: rgba(0,0,0,.2); border-radius: 3px; }
.monster-selector-grid::-webkit-scrollbar-thumb { background-color: var(--accent-color,#d6a339); border-radius: 3px; }
.monster-selector-empty {
  grid-column: 1 / -1;
  text-align: center;
  padding: 2rem 1rem;
  color: var(--text-color,#d7ddf3);
  opacity: .7;
  font-style: italic;
}

.monster-selector-card {
  background-color: rgba(20,27,40,.7);
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: all .2s ease;
  display: flex;
  flex-direction: column;
  border: 2px solid transparent;
  height: 100%;
  min-height: 160px;
}

.monster-selector-card:hover { transform: translateY(-4px); box-shadow: 0 6px 12px rgba(0,0,0,.2); background-color: rgba(30,37,50,.9); }
.monster-selector-card.selected { border-color: var(--accent-color,#d6a339); background-color: rgba(214,163,57,.1); transform: translateY(-4px); box-shadow: 0 6px 12px rgba(214,163,57,.2); }
.monster-selector-card-image {
  height: 100px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0,0,0,.3);
  min-height: 80px;
}

.monster-selector-card-image img { width: 100%; height: 100%; object-fit: contain; transition: transform .3s ease; }
.monster-selector-card:hover .monster-selector-card-image img { transform: scale(1.05); }
.monster-selector-card-content {
  padding: .75rem;
  display: flex;
  flex-direction: column;
  gap: .5rem;
  flex: 1;
  min-height: 40px;
}

.monster-selector-card-name {
  font-weight: 600;
  font-size: .95rem;
  color: var(--text-color,#d7ddf3);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.monster-selector-level {
  font-size: .8rem;
  background-color: rgba(214,163,57,.2);
  color: var(--accent-color,#d6a339);
  padding: .15rem .4rem;
  border-radius: 4px;
  font-weight: 700;
}

.monster-selector-species {
  font-size: .8rem;
  color: var(--text-color,#d7ddf3);
  opacity: .8;
  font-style: italic;
}

.monster-selector-attribute {
  font-size: .75rem;
  color: var(--accent-color,#d6a339);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.monster-selector-types {
  display: flex;
  flex-wrap: wrap;
  gap: .35rem;
  margin-top: .25rem;
}

.monster-selector-type-badge {
  font-size: .7rem;
  padding: .15rem .4rem;
  border-radius: 4px;
  color: #fff;
  font-weight: 600;
  text-shadow: 0 1px 1px rgba(0,0,0,.3);
  display: inline-block;
}


/* ---- Rolled Monster ---- */
.rolled-monster {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.monster-preview {
  display: flex;
  gap: 1.5rem;
  padding: 1.5rem;
  border-radius: .5rem;
  background-color: var(--card-background-light);
  box-shadow: 0 2px 4px rgba(0,0,0,.05);
}

.stat-group {
  display: flex;
  gap: 1rem;
}


/* ---- Reward Header / Lists ---- */
.monster-reward-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.monster-reward-title {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-color, #333);
}

.monster-species-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 15px;
  margin-bottom: 15px;
}

.monster-species-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: rgba(0,0,0,.03);
  border-radius: 8px;
  padding: 10px;
  transition: transform .2s;
}

.monster-species-item:hover { transform: scale(1.05); }

.species-image,
.monster-species-image {
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  border-radius: 1rem;
  overflow: hidden;
}

/* Monster Search */
.monster-search {
  margin-bottom: 1.5rem;
}

.monster-search input {
  width: 100%;
  padding: 0.75rem 1rem;
  background-color: var(--input-background);
  border: 1px solid var(--border-color);
  border-radius: 0.375rem;
  color: var(--text-color);
  font-size: 1rem;
  transition: border-color 0.2s ease;
}

.monster-search input:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(214, 163, 57, 0.1);
}

.monster-search input::placeholder {
  color: var(--text-color);
  opacity: 0.6;
}

/* Monsters Grid */
.monsters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
  margin-top: 2rem;
  justify-content:center;
}

.bazar-monsters-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 2rem;
  margin-top: 2rem;
  justify-content:center;
}

.monster-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
  border-color: var(--accent-color);
}

.monster-name {
  font-size: 1.55rem;
  font-weight: 600;
  color: var(--accent-color);
  margin-bottom: 0.5rem;
}

.monster-types {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.no-monsters {
  grid-column: 1 / -1;
  text-align: center;
  padding: 3rem;
  background-color: var(--card-background);
  border-radius: 0.5rem;
  color: var(--text-color);
  opacity: 0.7;
}

/* Monster Modal Content */
.monster-modal-content {
  max-width: none;
  width: 100%;
}

/* Monster Details Section */
.monster-details {
  background-color: var(--nav-background);
  border-radius: 0.5rem;
  padding: 1.5rem;
  margin-bottom: 2rem;
}

.monster-details h3 {
  color: var(--accent-color);
  margin-bottom: 1rem;
  font-size: 1.25rem;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.5rem;
}

.monster-details p {
  margin-bottom: 0.5rem;
  color: var(--text-color);
  line-height: 1.5;
}

.monster-details p strong {
  color: var(--accent-color);
}


.monster-species-image img { max-width: 100%; max-height: 100%; object-fit: contain; }
.monster-species-placeholder {
  font-size: 40px;
  color: #ccc;
}

.monster-species-name {
  font-weight: 600;
  margin-bottom: 8px;
  text-align: center;
}

.monster-types-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 15px;
  padding: 10px;
  background-color: rgba(0,0,0,.03);
  border-radius: 8px;
}

.monster-reward-details {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding: 10px;
  background-color: rgba(0,0,0,.03);
  border-radius: 8px;
}

.monster-reward-actions {
  margin-top: auto;
  padding-top: 15px;
  border-top: 1px solid rgba(0,0,0,.1);
}

.monster-trainer-select {
  margin-bottom: 15px;
}

.monster-box-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  background-color: var(--card-background);
  border-radius: .5rem;
  padding: .75rem 1.5rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.box-nav-button {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .5rem 1rem;
  background-color: var(--nav-background);
  border-radius: .375rem;
  color: var(--text-color);
  text-decoration: none;
  transition: all .2s;
}

.box-nav-button:hover { background-color: var(--nav-hover); color: var(--accent-color); }
.prev-monster i { margin-right: .5rem; } .next-monster i { margin-left: .5rem; }
.box-nav-placeholder {
  width: 100px;
}

.monster-detail-header {
  display: flex;
  gap: 2rem;
  margin-bottom: 2rem;
  background-color: var(--card-background);
  border-radius: .5rem;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.monster-profile-image-container {
  width: 50%;
  height: 80vh;
  max-height: 500px;
  background-color: transparent;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.monster-profile-image {
  max-width: 500px;
  object-fit: contain;
  max-height: 100%;
  padding: 1rem;
}

.monster-profile-info {
  flex: 1;
  padding: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.monster-profile-name {
  
  font-size: var(--font-size-3xl);
  color: var(--accent-color);
  margin-bottom: .5rem;
  display: flex;
  align-items: baseline;
  flex-direction: row;
  justify-content: space-between;
  gap: 1rem;
}

.monster-species-types {
  display: flex;
  flex-direction: column;
  gap: .75rem;
}

.species-name {
  font-weight: 600;
  margin-bottom: 8px;
  text-align: center;
  color: var(--text-color);
}

.species-slot {
  font-weight: 600;
  margin-bottom: 8px;
  text-align: center;
  color: var(--text-color);
}

.monster-attribute {
  margin-top: .5rem;
}

.trainer-label {
  font-weight: 500;
  margin-right: .5rem;
  font-size: 0.9rem;
  color: var(--text-color-secondary);
}

.trainer-link {
  color: var(--accent-color);
  text-decoration: none;
}
 .trainer-link:hover { text-decoration: underline; }
.monster-actions .monster-action-button, .monster-action-button { display: inline-flex; align-items: center; gap: .5rem; padding: .75rem 1.25rem; background-color: var(--accent-color); color: #000; border-radius: .375rem; font-weight: 600; text-decoration: none; transition: all .2s; }
.monster-action-button:hover { background-color: var(--accent-hover); }
.monster-detail-content {
  display: flex;
  gap: 2rem;
  margin-bottom: 2rem;
}

.monster-sidebar {
  width: 200px;
  flex-shrink: 0;
}

.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  background-color: var(--card-background);
  border-radius: .5rem;
  padding: 1rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  overflow: hidden;
  position: sticky;
  top: 5rem;
}

.sidebar-link {
  padding: 1rem 1.5rem;
  background-color: transparent;
  border: none;
  border-radius: .375rem;
  color: var(--text-color);
  font-size: var(--font-size-base);
  text-align: left;
  cursor: pointer;
  transition: all .2s;
  display: block;
  width: 100%;
  border-left: 3px solid transparent;
}

.sidebar-link:hover { background-color: var(--nav-hover); }
.sidebar-link.active { background-color: var(--nav-active); color: var(--accent-color); font-weight: 600; }
.sidebar-divider {
  margin: .75rem .5rem;
  padding: 0 1rem;
  font-size: var(--font-size-xs);
  color: var(--text-muted);
  opacity: .7;
  font-weight: 600;
  text-transform: uppercase;
  height: 1px;
  background-color: var(--divider-color);
  position: relative;
  text-align: center;
  display: flex;
  align-items: center;
}

.monster-main-content {
  flex: 1;
  background-color: var(--card-background);
  border-radius: .5rem;
  padding: 2rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}


/* ---- Panels / Info Blocks ---- */
.info-panel {
  background: linear-gradient(135deg, var(--card-background), rgba(var(--accent-color-rgb,214,163,57), .02));
  border-radius: 1rem;
  margin-bottom: 2rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  border: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
  overflow: hidden;
  transition: all .3s ease;
}

.info-panel:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,.12); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); }

.panel-title {
  display: flex;
  align-items: center;
  gap: .75rem;
  font-size: var(--font-size-lg);
  font-weight: 600;
  margin: 0;
}

.panel-title i { font-size: 1.25rem; opacity: .9; }

.info-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}


.info-card:hover { background: var(--nav-hover); transform: translateY(-1px); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); }
.info-card-icon {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-color), rgba(var(--accent-color-rgb,214,163,57), .7));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  font-size: 1.25rem;
  flex-shrink: 0;
}

.nature-card .info-card-icon { background: linear-gradient(135deg, #e74c3c, #c0392b); color: #fff; }
.ability-card .info-card-icon { background: linear-gradient(135deg, #3498db, #2980b9); color: #fff; }

/* ---- Friendship / Stats Panels ---- */
.friendship-panel {
  background: linear-gradient(135deg, rgba(52,152,219,.1), rgba(52,152,219,.05));
  border-radius: .75rem;
  padding: 1.5rem;
  border: 1px solid rgba(52,152,219,.2);
}

.friendship-header {
  display: flex;
  align-items: center;
  gap: .75rem;
  margin-bottom: 1rem;
}

.friendship-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg,#3498db,#2980b9);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 1.1rem;
}

.friendship-title {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-color);
}

.friendship-meter {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: .75rem;
}

.friendship-bar {
  flex: 1;
  height: 12px;
  background: rgba(52,152,219,.2);
  border-radius: 6px;
  overflow: hidden;
  position: relative;
}

.friendship-fill {
  height: 100%;
  background: linear-gradient(90deg,#e74c3c 0%,#f39c12 25%,#f1c40f 50%,#27ae60 75%,#3498db 100%);
  border-radius: 6px;
  transition: width .8s ease;
  position: relative;
}

.friendship-fill::after { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg,transparent 0%, rgba(255,255,255,.3) 50%, transparent 100%); animation: shimmer 2s infinite; }
.friendship-value {
  font-weight: 600;
  color: var(--accent-color);
  min-width: 60px;
  text-align: right;
}

.friendship-message {
  font-style: italic;
  color: var(--text-color);
  opacity: .8;
  text-align: center;
}


/* ---- Pokemon-Style Stats ---- */
.pokemon-stats-panel .panel-header { background: linear-gradient(135deg, #4CAF50, #45a049); color: #fff; }
.pokemon-stats-container {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 2rem;
}

.pokemon-stat-row {
  display: grid;
  grid-template-columns: 140px 1fr 120px;
  align-items: center;
  gap: 1rem;
  padding: .75rem 1rem;
  background: var(--nav-background);
  border-radius: .5rem;
  border: 1px solid transparent;
  transition: all .2s ease;
}

.pokemon-stat-row:hover { background: var(--nav-hover); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); transform: translateX(2px); }
.stat-info-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.stat-label-container {
  display: flex;
  flex-direction: column;
  gap: .125rem;
}

.stat-name-full {
  font-weight: 600;
  font-size: var(--font-size-base);
  color: var(--text-color);
  line-height: 1;
}

.stat-name-short {
  font-weight: 500;
  font-size: var(--font-size-xs);
  color: var(--text-color);
  opacity: .7;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.stat-value-display {
  text-align: right;
}

.stat-total-value {
  font-weight: 700;
  font-size: var(--font-size-lg);
  color: var(--text-color);
  min-width: 50px;
  display: inline-block;
  text-align: right;
}

.stat-bar-section {
  flex: 1;
  padding: 0 .5rem;
}

.main-stat-bar-container {
  width: 100%;
  height: 20px;
  background: rgba(0,0,0,.1);
  border-radius: 10px;
  overflow: hidden;
  position: relative;
  box-shadow: inset 0 2px 4px rgba(0,0,0,.1);
}

.main-stat-bar {
  height: 100%;
  border-radius: 10px;
  position: relative;
  transition: width 1s ease-out;
  background: linear-gradient(45deg, currentColor 0%, currentColor 70%, rgba(255,255,255,.2) 100%);
  box-shadow: 0 0 10px rgba(0,0,0,.2), inset 0 1px 0 rgba(255,255,255,.3), inset 0 -1px 0 rgba(0,0,0,.2);
}

.stat-bar-shine {
  position: absolute;
  top: 2px;
  left: 0;
  right: 0;
  height: 6px;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.4) 50%, transparent 100%);
  border-radius: 4px;
  animation: shine 3s ease-in-out infinite;
}

.iv-ev-indicators {
  display: flex;
  flex-direction: column;
  gap: .375rem;
  min-width: 120px;
}

.iv-indicator, .ev-indicator { display: flex; align-items: center; gap: .5rem; }
.iv-label, .ev-label { font-size: var(--font-size-xs); font-weight: 600; color: var(--text-color); opacity: .7; width: 18px; text-align: left; }
.iv-bar-mini, .ev-bar-mini { flex: 1; height: 6px; background: rgba(0,0,0,.1); border-radius: 3px; overflow: hidden; position: relative; }
.iv-fill-mini, .ev-fill-mini { height: 100%; border-radius: 3px; transition: width .8s ease-out; position: relative; background: linear-gradient(90deg, currentColor 0%, rgba(255,255,255,.2) 100%); box-shadow: 0 0 4px rgba(0,0,0,.3); }
.iv-value, .ev-value { font-size: var(--font-size-xs); font-weight: 600; color: var(--text-color); min-width: 20px; text-align: right; }
.stats-summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  padding: 1.5rem;
  background: rgba(var(--accent-color-rgb,214,163,57), .05);
  border-radius: .75rem;
  border: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.summary-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .75rem 1rem;
  background: var(--nav-background);
  border-radius: .5rem;
  transition: all .2s ease;
}

.summary-item:hover { background: var(--nav-hover); transform: translateY(-1px); }
.summary-label {
  font-weight: 600;
  font-size: var(--font-size-sm);
  color: var(--text-color);
}

.summary-value {
  font-weight: 700;
  font-size: var(--font-size-base);
  color: var(--accent-color);
}

.pokemon-stat-row:has(.main-stat-bar[style*="width: 0%"]) { opacity: .6; }
.pokemon-stat-row:has(.main-stat-bar[style*="width: 100%"]) { background: rgba(255,215,0,.1); border-color: rgba(255,215,0,.3); }
.pokemon-stat-row:has(.main-stat-bar[style*="width: 100%"]) .stat-total-value { color: #FFD700; text-shadow: 0 0 8px rgba(255,215,0,.3); }

/* ---- Moves ---- */
.moves-panel .panel-header { background: linear-gradient(135deg, #f39c12, #e67e22); color: #fff; }
.no-content-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  padding: 4rem 2rem;
  text-align: center;
}

.no-content-icon {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: rgba(var(--accent-color-rgb,214,163,57), .1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-color);
  font-size: 2rem;
}

.no-content-message p { font-size: var(--font-size-lg); color: var(--text-color); opacity: .7; margin: 0; }
.enhanced-moves-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  gap: 1.25rem;
}




.enhanced-move-card {
  background: var(--nav-background);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  border: 1px solid transparent;
  transition: all .3s ease;
}

.enhanced-move-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,.15); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); }
.move-card-header {
  background: linear-gradient(135deg, var(--nav-hover), var(--nav-background));
  padding: 1.5rem;
  border-bottom: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.move-title-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.move-title {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-color);
  margin: 0;
}

.move-type-badge {
  padding: .375rem 1rem;
  border-radius: 2rem;
  font-size: var(--font-size-sm);
  font-weight: 600;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,.2);
}

.move-stats-row {
  display: flex;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  background: var(--card-background);
}

.move-stat-item {
  display: flex;
  align-items: center;
  gap: .75rem;
  flex: 1;
  padding: .75rem;
  background: var(--nav-background);
  border-radius: .5rem;
  transition: all .2s ease;
}

.move-stat-item:hover { background: var(--nav-hover); transform: translateY(-1px); }
.move-stat-icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-color), rgba(var(--accent-color-rgb,214,163,57), .7));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  font-size: .875rem;
  flex-shrink: 0;
}

.move-stat-content {
  display: flex;
  flex-direction: column;
  gap: .125rem;
  flex: 1;
}

.move-stat-label {
  font-size: var(--font-size-xs);
  color: var(--text-color);
  opacity: .7;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.move-stat-value {
  font-size: var(--font-size-base);
  font-weight: 700;
  color: var(--text-color);
}

.move-description-section {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.5rem;
  background: rgba(var(--accent-color-rgb,214,163,57), .03);
  border-top: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.monster-panel-content {
  padding: 1.5rem;
  background: var(--card-background);
  border-radius: .5rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  display: grid;
  grid-template-columns: auto;
  gap: 1rem;
}

.physical-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
}

.physical-stat-card {
  background: var(--nav-background);
  border-radius: .5rem;
  padding: 1rem;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
  transition: all .2s ease;
  display: flex;
  flex-direction: row;
  gap: 1.5rem; 
}

.stat-info {
  display: flex;
  flex-direction: column;
  gap: .25rem;
}

.monster-stat-value {
  font-size: var(--font-size-base);
  font-weight: 700;
  color: var(--text-color);
}

.origin-timeline {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}


.description-icon {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(var(--accent-color-rgb,214,163,57), .2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-color);
  font-size: .75rem;
  flex-shrink: 0;
  margin-top: .125rem;
}

.move-description-text {
  font-size: var(--font-size-sm);
  line-height: 1.6;
  color: var(--text-color);
  opacity: .9;
  margin: 0;
}


/* ---- Evolution ---- */
.monster-evolution-tab h2 { font-size: var(--font-size-xl); color: var(--accent-color); margin-bottom: 1.5rem; }
.no-evolution-message {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  padding: 3rem;
  text-align: center;
  color: var(--text-color);
  opacity: .7;
}

.no-evolution-message i { font-size: 3rem; }



.evolution-item.current { background-color: var(--nav-active); border: 2px solid var(--accent-color); }





.evolution-method {
  font-size: var(--font-size-sm);
  color: var(--text-color);
  opacity: .8;
  margin-top: .5rem;
  text-align: center;
}


/* ---- Biography Panels ---- */
.personal-panel .panel-header { background: linear-gradient(135deg,#9b59b6,#8e44ad); color: #fff; }
.preferences-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

.preference-card {
  background: var(--nav-background);
  border-radius: .75rem;
  padding: 1.5rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all .2s ease;
  border: 1px solid transparent;
}

.preference-card:hover { background: var(--nav-hover); transform: translateY(-1px); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); }
.preference-icon {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.25rem;
  flex-shrink: 0;
}

.likes-card .preference-icon { background: linear-gradient(135deg,#e74c3c,#c0392b); color: #fff; }
.dislikes-card .preference-icon { background: linear-gradient(135deg,#34495e,#2c3e50); color: #fff; }
.preference-content {
  flex: 1;
}

.preference-label {
  font-size: var(--font-size-sm);
  color: var(--text-color);
  opacity: .7;
  margin-bottom: .25rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.preference-value {
  font-size: var(--font-size-base);
  font-weight: 600;
  color: var(--text-color);
  line-height: 1.4;
}

.fun-facts-panel .panel-header { background: linear-gradient(135deg,#f39c12,#e67e22); color: #fff; }
.enhanced-fun-facts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.25rem;
}

.enhanced-fun-fact-card {
  background: var(--nav-background);
  border-radius: 1rem;
  padding: 1.5rem;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  transition: all .3s ease;
  border: 1px solid transparent;
  position: relative;
  overflow: hidden;
}

.enhanced-fun-fact-card:hover { background: var(--nav-hover); transform: translateY(-2px); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); box-shadow: 0 8px 25px rgba(0,0,0,.1); }
.fact-icon {
  width: 40px;
  height: 40px;
  border-radius: .75rem;
  background: linear-gradient(135deg, var(--accent-color), rgba(var(--accent-color-rgb,214,163,57), .7));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.fact-title {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-color);
  margin-bottom: .5rem;
}

.fact-text {
  font-size: var(--font-size-sm);
  color: var(--text-color);
  opacity: .9;
  line-height: 1.5;
}

.fact-number {
  position: absolute;
  top: .75rem;
  right: .75rem;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(var(--accent-color-rgb,214,163,57), .2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--accent-color);
}

.relations-panel .panel-header { background: linear-gradient(135deg,#3498db,#2980b9); color: #fff; }
.enhanced-relations-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 1.25rem;
}

.enhanced-relation-card {
  background: var(--nav-background);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,.08);
  border: 1px solid transparent;
  transition: all .3s ease;
}

.enhanced-relation-card:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,.15); border-color: rgba(var(--accent-color-rgb,214,163,57), .2); }
.relation-header-section {
  background: linear-gradient(135deg, var(--nav-hover), var(--nav-background));
  padding: 1.25rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  border-bottom: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.relation-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent-color), rgba(var(--accent-color-rgb,214,163,57), .7));
  display: flex;
  align-items: center;
  justify-content: center;
  color: #000;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.relation-title {
  font-size: var(--font-size-lg);
  font-weight: 600;
  color: var(--text-color);
  margin: 0 0 .25rem;
}

.relation-type {
  font-size: var(--font-size-sm);
  color: var(--text-color);
  opacity: .7;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.entity-link-section {
  padding: 1rem 1.25rem;
  background: var(--card-background);
}

.enhanced-entity-link {
  display: block;
  text-decoration: none;
  color: inherit;
}

.entity-preview-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: var(--nav-background);
  border-radius: .5rem;
  transition: all .2s ease;
}

.entity-preview-card:hover { background: var(--nav-hover); transform: translateX(4px); }
.entity-avatar {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background: rgba(var(--accent-color-rgb,214,163,57), .2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-color);
  font-size: 1rem;
  flex-shrink: 0;
}

.entity-name {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--heading-color);
  margin-bottom: .125rem;
}

.entity-type {
  font-size: var(--font-size-xs);
  color: var(--accent-color);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .5px;
}

.link-arrow {
  color: var(--accent-color);
  font-size: .875rem;
  opacity: .7;
  transition: all .2s ease;
}

.entity-preview-card:hover .link-arrow { opacity: 1; transform: translateX(2px); }
.relation-description {
  padding: 1.25rem;
  background: rgba(var(--accent-color-rgb,214,163,57), .03);
  border-top: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.description-header {
  display: flex;
  align-items: center;
  gap: .5rem;
  margin-bottom: .75rem;
}

.description-header i { color: var(--accent-color); font-size: .875rem; }
.description-header span { font-size: var(--font-size-sm); font-weight: 600; color: var(--text-color); text-transform: uppercase; letter-spacing: .5px; }
.relation-text {
  font-size: var(--font-size-sm);
  line-height: 1.6;
  color: var(--text-color);
  opacity: .9;
  margin: 0;
  font-style: italic;
}

.bio-summary-panel .panel-header { background: linear-gradient(135deg,#16a085,#1abc9c); color: #fff; }
.summary-highlight {
  position: relative;
  padding: 2rem;
  background: rgba(var(--accent-color-rgb,214,163,57), .05);
  border-left: 4px solid var(--accent-color);
  border-radius: .75rem;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
}

.highlight-icon {
  color: var(--accent-color);
  opacity: .4;
  font-size: 1.5rem;
  flex-shrink: 0;
}

.summary-text {
  font-size: var(--font-size-lg);
  line-height: 1.6;
  color: var(--text-color);
  margin: 0;
  flex: 1;
  font-style: italic;
}

.full-bio-panel .panel-header { background: linear-gradient(135deg,#8e44ad,#9b59b6); color: #fff; }
.bio-text-container {
  position: relative;
  padding: 1.5rem;
  background: rgba(var(--accent-color-rgb,214,163,57), .02);
  border-radius: .75rem;
  border: 1px solid rgba(var(--accent-color-rgb,214,163,57), .1);
}

.bio-decoration {
  position: absolute;
  top: 1rem;
  right: 1rem;
  color: var(--accent-color);
  opacity: .2;
  font-size: 1.5rem;
}

.bio-text {
  font-size: var(--font-size-base);
  line-height: 1.8;
  color: var(--text-color);
  white-space: pre-line;
  position: relative;
  z-index: 1;
}

.no-content-subtitle {
  font-size: var(--font-size-sm);
  color: var(--text-color);
  opacity: .5;
  font-style: italic;
  margin-top: .5rem;
}


/* ---- Gallery ---- */
.monster-gallery-tab h2 { font-size: var(--font-size-xl); color: var(--accent-color); margin-bottom: 1.5rem; }
.gallery-image-container {
  position: relative;
  border-radius: .5rem;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.gallery-image {
  width: 100%;
  height: 300px;
  object-fit: contain;
  background-color: var(--nav-background);
}

.image-caption {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: rgba(0,0,0,.7);
  color: #fff;
  padding: .5rem;
  font-size: var(--font-size-sm);
  text-align: center;
}

.no-additional-images {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  padding: 3rem;
  text-align: center;
  color: var(--text-color);
  opacity: .7;
  grid-column: 1 / -1;
}

.no-additional-images i { font-size: 3rem; }

/* ---- Mega Evolution ---- */
.monster-mega-tab h2 { font-size: var(--font-size-xl); color: var(--accent-color); margin-bottom: 1.5rem; }
.mega-evolution-container {
  display: flex;
  flex-direction: column;
  gap: 2rem;
  margin-top: 1.5rem;
}

.mega-stone-section {
  background-color: var(--nav-background);
  border-radius: .5rem;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.mega-stone-info {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-top: 1rem;
}

.mega-stone-image-container {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  overflow: hidden;
  background-color: rgba(var(--accent-color-rgb,214,163,57), .1);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.mega-stone-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.no-mega-stone-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-color);
  font-size: 2.5rem;
}

.mega-stone-details {
  flex: 1;
}

.mega-stone-details h4 { margin: 0 0 .5rem; color: var(--accent-color); font-size: var(--font-size-lg); }
.mega-stone-description {
  color: var(--text-color);
  font-size: var(--font-size-base);
  margin: 0;
}

.mega-evolution-comparison {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-top: 1rem;
}

.mega-comparison-normal, .mega-comparison-mega { flex: 1; background-color: var(--nav-background); border-radius: .5rem; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,.1); display: flex; flex-direction: column; align-items: center; }
.mega-comparison-image-container {
  width: 180px;
  height: 180px;
  margin: 1rem 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mega-comparison-image {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.no-mega-image {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(var(--accent-color-rgb,214,163,57), .1);
  border-radius: .5rem;
  color: var(--text-muted);
  font-size: 3rem;
}

.mega-evolution-arrow {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent-color);
  font-size: 2rem;
}

.mega-comparison-details {
  width: 100%;
  text-align: center;
  margin-top: 1rem;
}

.mega-comparison-species {
  font-weight: 600;
  font-size: var(--font-size-lg);
  margin-bottom: .5rem;
}

.mega-comparison-types {
  display: flex;
  justify-content: center;
  gap: .5rem;
  margin-bottom: .75rem;
}

.mega-comparison-ability {
  font-size: var(--font-size-sm);
}

.ability-label {
  font-weight: 600;
  margin-right: .25rem;
  color: var(--accent-color);
}

.mega-stat-bonus {
  background-color: var(--nav-background);
  border-radius: .5rem;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
}

.mega-stat-bonus h3 { color: var(--accent-color); margin-top: 0; }
.mega-stat-bonus p { margin-bottom: 0; }

/* ---- Lineage ---- */
.monster-lineage-tab {
  padding: 1.5rem;
}

.lineage-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.lineage-header h2 { margin: 0; color: var(--text-color); }
.lineage-edit-button {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .75rem 1.25rem;
  background-color: var(--accent-color);
  color: #fff;
  border: none;
  border-radius: .375rem;
  cursor: pointer;
  transition: all .2s;
  font-weight: 500;
}

.lineage-edit-button:hover { background-color: var(--accent-color-dark); transform: translateY(-1px); }
.lineage-edit-button.active { background-color: var(--danger-color); }
.lineage-edit-button.active:hover { background-color: var(--danger-color-dark); }
.lineage-section {
  margin-bottom: 2.5rem;
}

.lineage-section h3 { display: flex; align-items: center; gap: .75rem; margin-bottom: 1rem; color: var(--text-color); font-size: 1.125rem; font-weight: 600; }
.lineage-section h3 i { color: var(--accent-color); }
.lineage-monsters {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
}

.lineage-monster-card {
  position: relative;
  background-color: var(--card-background);
  border-radius: .5rem;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
  transition: all .2s;
}

.lineage-monster-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
.monster-level-badge {
  position: absolute;
  top: .5rem;
  right: .5rem;
  background-color: var(--accent-color);
  color: #fff;
  padding: .25rem .5rem;
  border-radius: .25rem;
  font-size: .75rem;
  font-weight: 600;
}

.relationship-info {
  display: flex;
  align-items: center;
  gap: .5rem;
  font-size: .75rem;
  color: var(--accent-color);
  margin-top: .5rem;
}

.relationship-info i { font-size: .875rem; }
.remove-relationship-button {
  position: absolute;
  top: .5rem;
  left: .5rem;
  background-color: var(--danger-color);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all .2s;
  font-size: .75rem;
}

.remove-relationship-button:hover { background-color: var(--danger-color-dark); transform: scale(1.1); }
.no-lineage-message {
  text-align: center;
  padding: 3rem 2rem;
  color: var(--text-muted);
}

.no-lineage-message i { font-size: 3rem; color: var(--accent-color); margin-bottom: 1rem; }
.no-lineage-message p { font-size: 1.125rem; margin-bottom: .5rem; }

/* ---- Utility / Misc ---- */
.breed-monsters-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.monster-selection {
  display: flex;
  gap: 20px;
  background-color: rgba(30, 37, 50, 0.7);
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  height: 100%;
  width: 100%;
}

.monster-select-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 0;
  box-shadow: none;
  background: none;
}

.monster-item {
  padding: 1rem;
  border-radius: .25rem;
  border: 1px solid var(--border-color);
  background-color: var(--card-background-light);
  transition: border-color .2s;
  margin-bottom: 0.5rem;
}

.monster-item.selected { border-color: var(--accent-color); }
.monster-checkbox {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: .5rem;
  padding: 0.5rem;
  border: 1px solid var(--divider-color);
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.monster-checkbox input[type="checkbox"] { width: 1.25rem; height: 1.25rem; cursor: pointer; }
.monster-checkbox label { font-weight: 600; cursor: pointer; }
.edit-box-monster {
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
}

.edit-box-monster-image {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: .25rem;
  background-color: rgba(0,0,0,.2);
}

.edit-box-monster-image img { max-width: 100%; max-height: 100%; object-fit: contain; }
.edit-box-monster-info {
  padding: .25rem;
  background-color: rgba(0,0,0,.3);
  font-size: var(--font-size-xs);
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.view-all-button, .retry-button, .back-button { cursor: pointer; }
.retry-button, .back-button { padding: .75rem 1.5rem; border: none; border-radius: .375rem; font-weight: 600; transition: all .2s; }
.retry-button {
  background-color: var(--accent-color);
  color: #000;
}
 .retry-button:hover { background-color: var(--accent-hover); }
 .back-button:hover { background-color: var(--nav-hover); }

/* ---- Animations ---- */
@keyframes cardFadeIn { from { opacity: 0; transform: translateY(20px);} to { opacity: 1; transform: translateY(0);} }
@keyframes mythical-card-glow { from { box-shadow: 0 4px 25px rgba(245,158,11,.2);} to { box-shadow: 0 6px 35px rgba(245,158,11,.4);} }
@keyframes legendary-card-glow { from { box-shadow: 0 4px 30px rgba(251,191,36,.3);} to { box-shadow: 0 8px 45px rgba(251,191,36,.5);} }
@keyframes modalSlideIn { from {opacity:0; transform: scale(0.95) translateY(-30px);} to {opacity:1; transform: scale(1) translateY(0);} }
@keyframes shine { 0%{left:-100%;} 100%{left:100%;} }

/* ---- Page-specific only: Fun Facts buttons ---- */
.remove-fun-fact-button,
.add-fun-fact-button {
  background-color: var(--accent-color);
  color: #fff;
  border: none;
  border-radius: 0.375rem;
  padding: 0.75rem 1.25rem;
  font-size: var(--font-size-base);
  cursor: pointer;
  transition: background-color 0.2s;
}
.remove-fun-fact-button:hover,
.add-fun-fact-button:hover { background-color: var(--accent-hover); }

/* ---- Stats form (specific) ---- */

/* ---- Mega Evolution (specific helpers) ---- */
.mega-evolution-locked {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 2rem;
  background-color: rgba(var(--accent-color-rgb, 214, 163, 57), 0.1);
  border-radius: 0.5rem;
  margin: 1rem 0;
  text-align: center;
}

.mega-evolution-locked i { font-size: 2.5rem; color: var(--accent-color); margin-bottom: 1rem; }
.mega-evolution-locked p { font-size: var(--font-size-lg); color: var(--text-color); font-weight: 500; }
.mega-stone-section, .mega-evolution-section { margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--divider-color); }
.mega-stone-section h3, .mega-evolution-section h3 { font-size: var(--font-size-lg); color: var(--accent-color); margin-bottom: 1rem; }

/* ---- Mass Edit Modal ---- */
.mass-edit-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.mass-edit-modal {
  background: var(--card-background);
  border-radius: 12px;
  width: 90%;
  max-width: 1200px;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  scrollbar-color: #686970 #1d1d22;
}

.mass-edit-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.search-icon {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #bdc3c7;
}

.mass-edit-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 30px;
  border-bottom: 2px solid var(--border-color);
  background: var(--card-background);
  border-radius: 12px 12px 0 0;
}

.mass-edit-header h2 { margin: 0; color: var(--accent-color); font-size: 24px; }
.mass-edit-content {
  padding: 30px;
}

.mass-edit-instructions {
  background: #63798f;
  border: 1px solid #2c4966;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 25px;
}

.mass-edit-instructions p { margin: 0 0 10px 0; color: #233241; font-weight: 500; }
.mass-edit-instructions ul { margin: 0; padding-left: 20px; }
.mass-edit-instructions li { color: #233241; margin-bottom: 5px; }

/* global .search-input is used (no duplicate here) */
.monsters-edit-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

/* Mass Edit Filter Styles */
.search-filters-section {
  margin-bottom: 20px;
}

.additional-filters {
  margin-top: 15px;
}

.filter-row {
  display: flex;
  gap: 15px;
  margin-bottom: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.filter-row .search-bar {
  flex: 1;
  min-width: 200px;
  position: relative;
}

.species-search,
.type-search {
  flex: 1;
}

.filter-row.toggles {
  justify-content: flex-start;
  gap: 30px;
}

.toggle-filter {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  user-select: none;
}

.toggle-filter input[type="checkbox"] {
  width: 16px;
  height: 16px;
  accent-color: var(--accent-color);
  cursor: pointer;
}

.toggle-label {
  color: var(--text-color);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
}

.toggle-filter:hover .toggle-label {
  color: var(--accent-color);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .filter-row {
    flex-direction: column;
    align-items: stretch;
  }
  
  .filter-row .search-bar {
    min-width: unset;
  }
  
  .filter-row.toggles {
    flex-direction: column;
    align-items: flex-start;
    gap: 15px;
  }
}

.monster-edit-card {
  border: 2px solid #ddd;
  border-radius: 12px;
  padding: 20px;
  background: var(--card-background);
  transition: all 0.2s;
}

.monster-edit-card:hover { border-color: #007bff; box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1); }
.monster-edit-info {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.monster-edit-image {
  width: 100px;
  height: 100px;
  object-fit: contain;
  border-radius: 8px;
  margin-right: 15px;
  border: 2px solid #ddd;
}

.monster-edit-details h4 { margin: 0 0 5px 0; color: var(--text-color); font-size: 16px; }
.monster-edit-details p { margin: 0; color: var(--text-color); font-size: 14px; }
.monster-edit-controls {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.edit-section {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.edit-section label { font-weight: 600; color: var(--text-color); font-size: 14px; }
.rename-input, .berry-select, .pastry-select, .pastry-value-input {
  padding: 8px 12px; border: 1px solid var(--border-color); background: var(--input-background); color: var(--text-color); border-radius: 6px; font-size: 14px; transition: border-color 0.2s;
}
.rename-input:focus, .berry-select:focus, .pastry-select:focus, .pastry-value-input:focus { outline: none; border-color: #007bff; box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1); }
.pastry-value-input {
  margin-top: 0;
}


/* Dynamic dropdown styles */

.add-dropdown-button {
  background: #2863a7;
  color: #fff;
  border: none;
  border-radius: 4px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 12px;
}

.add-dropdown-button:hover { background: #218838; }
.dropdown-row {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.dropdown-row:last-child { margin-bottom: 0; }
.pastry-inputs {
  display: flex;
  flex-direction: column;
  flex: 1;
  gap: 6px;
}

.remove-dropdown-button {
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 4px;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 10px;
  flex-shrink: 0;
}

.remove-dropdown-button:hover { background: #c82333; }
.berry-select, .pastry-select { flex: 1; min-width: 0; font-size: 12px; }
.berry-select option, .pastry-select option { padding: 5px; font-size: 12px; line-height: 1.3; }


.mass-edit-actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  padding-top: 20px;
  border-top: 2px solid var(--border-color);
}

.submit-mass-edit-button {
  background: #28a745;
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.submit-mass-edit-button:hover:not(:disabled) { background: #218838; }
.submit-mass-edit-button:disabled { background: #6c757d; cursor: not-allowed; }
.cancel-mass-edit-button {
  background: #6c757d;
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.cancel-mass-edit-button:hover { background: #545b62; }
.mass-edit-processing {
  text-align: center;
  padding: 40px 20px;
}

.mass-edit-processing h3 { margin: 20px 0 10px 0; color: var(--text-color); }
.processing-status p { color: var(--text-color); font-size: 16px; }
.mass-edit-results h3 { text-align: center; margin-bottom: 20px; color: var(--text-color); }
.results-summary {
  background: var(--card-background);
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 20px;
  text-align: center;
}

.results-summary p { margin: 5px 0; font-weight: 600; }
.results-details {
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 20px;
}

.result-status i { font-size: 16px; margin-top: 2px; }
.result-message {
  flex: 1;
}

.result-message p { margin: 0; font-size: 14px; }
.species-selection-needed {
  margin-top: 8px;
  padding: 8px;
  background: var(--card-background);
  border: 1px solid #ffeaa7;
  border-radius: 4px;
}

.species-selection-needed p { margin: 0; color: #856404 !important; font-size: 12px; font-style: italic; }
.results-actions {
  text-align: center;
}

.close-results-button {
  background: #007bff;
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.close-results-button:hover { background: #0056b3; }

/* Enhanced Results Display */
.result-card {
  margin-bottom: 15px;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.result-card.success { background: #3b6946; border: 1px solid #c3e6cb; }
.result-card.error { background: #66272c; border: 1px solid #f5c2c7; }
.monster-change-card {
  padding: 20px;
  background: #233241;
  border-color: var(--border-color);
  border-radius: 8px;
}

.change-header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(0,0,0,0.1);
}

.change-header .result-status i { font-size: 24px; color: #47c489; }
.monster-info h4 { margin: 0 0 5px 0; font-size: 18px; font-weight: 600; color: var(--accent-color); }
.change-description {
  margin: 0;
  font-size: 14px;
  color: #47c489;
  font-style: italic;
}

.monster-comparison {
  background: var(--card-background);
  border-radius: 8px;
  padding: 15px;
}

.before-after {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 20px;
  align-items: center;
}

.before-section, .after-section { background: var(--card-background); border-radius: 6px; padding: 15px; border: 1px solid #ddd; }
.before-section h5, .after-section h5 { margin: 0 0 10px 0; font-size: 14px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
.before-section h5 { color: #dc3545; }
.after-section h5 { color: #28a745; }
.arrow-section {
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6c757d;
  font-size: 20px;
}

.monster-mini-card {
  min-height: 80px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.change-details {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.change-detail {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.change-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: #6c757d;
}

.change-value {
  font-size: 14px;
  font-weight: 500;
  padding: 4px 8px;
  border-radius: 4px;
  display: inline-block;
}

.old-value {
  background: #f8d7da;
  color: #721c24;
}

.new-value {
  background: #d1ecf1;
  color: #0c5460;
}

.type-badges, .species-list { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 4px; }
 /* narrowed variant within results cards */
.species-badge {
  padding: 5px 10px;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: 500;
  background: #6c757d;
  color: #fff;
  background-color: #3a4152;
}

.species-single {
  background: #17a2b8;
}

.type-none {
  background: #6c757d;
  font-style: italic;
}


/* Species Selection Modal */
.species-selection-content {
  padding: 20px 0;
}

.species-selection-content > p { margin-bottom: 30px; font-size: 16px; color: var(--text-color); }
.species-operation-selection {
  margin-bottom: 30px;
  padding: 20px;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  background: var(--card-background);
}

.species-operation-selection h4 { margin: 0 0 15px 0; color: var(--accent-color); font-size: 16px; }
.species-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 0.5rem;
  margin-bottom: 15px;
  overflow-y: auto;
}

.species-item {
  padding: 0.75rem;
  border: 1px solid var(--border-color);
  background: var(--input-background);
  color: var(--text-color);
  border-radius: 0.25rem;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 14px;
  background-color: var(--card-background);
}

.species-item:hover { border-color: #007bff; background: rgba(0, 123, 255, 0.1); }
.species-item.selected { border-color: #28a745; background: #28a745; color: white; font-weight: 600; }
.species-selection-actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  padding-top: 20px;
  border-top: 2px solid var(--border-color);
  margin-top: 20px;
}


/* Enhanced Species Selection Modal */
.species-selection-modal {
  max-width: 1400px;
}

.operation-header {
  display: flex;
  gap: 25px;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-color);
  align-items: flex-start;
}

.monster-mini-info {
  display: flex;
  gap: 15px;
  align-items: flex-start;
  flex: 1;
}

.monster-selection-image {
  width: 80px;
  height: 80px;
  object-fit: contain;
  border-radius: 8px;
  border: 2px solid var(--border-color);
  flex-shrink: 0;
}

.monster-selection-details h4 { margin: 0 0 8px 0; color: var(--text-color); font-size: 18px; font-weight: 600; }
.current-species {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 8px;
}


@keyframes pulse { 0%, 100% { transform: scale(1);} 50% { transform: scale(1.05);} }
.current-types {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin-bottom: 8px;
}

.current-attribute {
  margin-bottom: 0;
}

.berry-info {
  background: rgba(0, 123, 255, 0.1);
  border: 1px solid rgba(0, 123, 255, 0.3);
  border-radius: 8px;
  padding: 15px;
  flex: 0 0 250px;
}

.berry-info h4 { margin: 0 0 8px 0; color: #007bff; font-size: 16px; font-weight: 600; }
.berry-effect {
  margin: 0 0 8px 0;
  font-size: 13px;
  color: var(--text-color);
  font-style: italic;
}

.species-slot-info {
  margin: 0;
  font-size: 14px;
  color: var(--text-color);
}

.species-slot-info strong { color: #ffc107; }
.species-selection-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 12px;
  margin-bottom: 15px;
}

.species-selection-item {
  padding: 12px 16px;
  border: 2px solid var(--border-color);
  background: var(--input-background);
  color: var(--text-color);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 45px;
}

.species-selection-item:hover { border-color: #007bff; background: rgba(0, 123, 255, 0.1); transform: translateY(-1px); box-shadow: 0 2px 8px rgba(0, 123, 255, 0.2); }
.species-selection-item.selected { border-color: #28a745; background: #28a745; color: white; font-weight: 600; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3); }
.species-name {
  text-align: center;
  word-break: break-word;
  display: inline-block;
}

.selection-preview {
  background: rgba(40, 167, 69, 0.1);
  border: 1px solid rgba(40, 167, 69, 0.3);
  border-radius: 6px;
  padding: 10px;
  color: var(--text-color);
  font-size: 14px;
}

.selection-preview strong { color: #28a745; }

.new-monster-section {
  margin-top: 20px;
  padding: 15px;
  border: 2px dashed #4CAF50;
  border-radius: 8px;
  background-color: var(--nav-background);
}

.new-monster-section h4 { margin: 0 0 10px 0; color: #28a745; font-size: 16px; font-weight: 600; }


/* ---- Responsive ---- */
@media (min-width: 768px) {
  .monster-details { flex-direction: row; }
    .monster-info-grid { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 1024px) {
  .info-cards-grid, .special-features-grid, .physical-stats { grid-template-columns: 1fr; }
  .pokemon-stat-row { grid-template-columns: 1fr; gap: .75rem; }
  .stat-bar-section { padding: 0; margin: .5rem 0; }
  .iv-ev-indicators { flex-direction: row; gap: 1rem; min-width: auto; }
  .stats-summary, .enhanced-moves-grid, .enhanced-fun-facts-grid, .enhanced-relations-grid { grid-template-columns: 1fr; }
  .move-stats-row { flex-direction: column; gap: .75rem; }
  .monster-detail-header { flex-direction: column; }
  .monster-profile-image-container { width: 100%; height: auto; aspect-ratio: 1 / 1; max-height: none; }
  .monster-profile-info { padding: 1.5rem; }
  .monster-detail-content { flex-direction: column; }
  .monster-sidebar { width: 100%; }
  .sidebar-nav { flex-direction: row; flex-wrap: wrap; justify-content: center; }
  .sidebar-link { flex: 1; text-align: center; min-width: 120px; }
    .evolution-chain { flex-direction: column; }
  .evolution-arrow { transform: rotate(90deg); }
  .mega-evolution-comparison { flex-direction: column; }
  .mega-evolution-arrow { transform: rotate(90deg); margin: 1rem 0; }
  .mega-comparison-normal, .mega-comparison-mega { width: 100%; }
}
@media (max-width: 768px) {
  .monster-team-card { padding: 1rem; }
  .monster-header { gap: .75rem; margin-bottom: 1rem; }
  .monster-image { width: 50px; height: 50px; }
  .monster-name h5 { font-size: 1rem; }
  .species-tag, .type-tag { padding: .25rem .5rem; font-size: .75rem; }
  .attribute-badge { padding: .35rem .7rem; font-size: .75rem; }
}
@media (max-width: 480px) {
  .monster-team-card { padding: .75rem; }
  .monster-header { flex-direction: column; text-align: center; gap: .5rem; }
  .monster-image { width: 60px; height: 60px; }
  .species-list, .types-list { justify-content: center; }
  .monster-selector-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
  .monster-selector-card-content { padding: .5rem; }
  .monster-selector-card-name { font-size: .85rem; }
}

/* ---- PC Box Responsive Improvements ---- */
@media (max-width: 1200px) {
  .pc-box-grid {
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(6, 1fr);
    gap: .75rem;
    padding: 1rem;
  }

  .all-boxes-grid {
    grid-template-columns: repeat(1, 1fr);
  }
  
  .pc-box-navigation {
    flex-wrap: wrap;
    gap: .75rem;
  }
  
  .pc-box-controls {
    flex-wrap: wrap;
    gap: .5rem;
  }
}

@media (max-width: 1024px) {
  .pc-box-grid {
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(8, 1fr);
    gap: .6rem;
    padding: .75rem;
  }
  
  .pc-box-monster {
    height: 90px;
  }
  
  .pc-box-monster-image {
    height: 60px;
  }
  
  .pc-box-monster-info {
    padding: .5rem .4rem;
    min-height: 50px;
  }
}

@media (max-width: 768px) {
  .pc-box-navigation {
    flex-direction: column;
    gap: 1rem;
    align-items: stretch;
  }
  
  .pc-box-info {
    text-align: center;
    margin-bottom: 1rem;
  }
  
  .pc-box-info h3 {
    font-size: 1.25rem;
  }
  
  .pc-box-controls {
    justify-content: center;
    flex-wrap: wrap;
    gap: .75rem;
  }
  
  .pc-box-nav-button {
    min-width: 44px;
    min-height: 44px;
    padding: .75rem;
    font-size: 1rem;
    border-radius: .375rem;
  }
  
  .pc-box-grid {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(10, 1fr);
    gap: .5rem;
    padding: .75rem;
    min-height: 80vh;
  }
  
  .pc-box-monster {
    height: 100px;
  }
  
  .pc-box-monster-image {
    height: 50px;
  }
  
  .pc-box-monster-info {
    padding: .4rem .3rem;
    min-height: 45px;
  }
  
  .pc-box-monster-name {
    font-size: .75rem;
    line-height: 1.2;
  }
  
  .pc-box-monster-level {
    font-size: .65rem;
    padding: .2rem .4rem;
  }
  
  .pc-box-monster-types .type-badge {
    width: .6rem;
    height: .6rem;
  }
  
  .box-preview-container {
    margin: .5rem 0;
  }
  
  .box-preview-grid {
    grid-template-columns: repeat(6, 1fr);
    grid-template-rows: repeat(5, 1fr);
    gap: .25rem;
    min-height: 200px;
    padding: .5rem;
  }
}

@media (max-width: 480px) {
  .pc-box-grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(15, 1fr);
    gap: .4rem;
    padding: .5rem;
    min-height: 90vh;
  }
  
  .pc-box-monster {
    height: 110px;
  }
  
  .pc-box-monster-image {
    height: 60px;
  }
  
  .pc-box-monster-info {
    padding: .5rem .4rem;
    min-height: 50px;
  }
  
  .pc-box-monster-name {
    font-size: .8rem;
    font-weight: 600;
  }
  
  .pc-box-monster-level {
    font-size: .7rem;
    padding: .25rem .5rem;
  }
  
  .pc-box-nav-button {
    min-width: 48px;
    min-height: 48px;
    padding: 1rem;
    font-size: 1.1rem;
  }
  
  .pc-box-number {
    font-size: 1rem;
    font-weight: 600;
  }
  
  .box-preview-grid {
    grid-template-columns: repeat(5, 1fr);
    grid-template-rows: repeat(6, 1fr);
    gap: .2rem;
    min-height: 180px;
    padding: .4rem;
  }
  
  .monster-references {
    grid-template-columns: repeat(2, 1fr);
    gap: .5rem;
  }
}

/* Evolution Tab Styles */
.evolution-tab-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--border-color, #e0e7ff);
}

.evolution-tab-header h2 {
  margin: 0;
  color: var(--text-color);
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.evolution-edit-button {
  background: linear-gradient(135deg, #4f46e5, #7c3aed);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.evolution-edit-button:hover {
  background: linear-gradient(135deg, #4338ca, #6d28d9);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
}

.evolution-edit-button.active {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
}

.evolution-edit-button.active:hover {
  background: linear-gradient(135deg, #dc2626, #b91c1c);
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
}

.evolution-edit-button:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

@media (max-width: 768px) {
  .evolution-tab-header {
    flex-direction: column;
    gap: 1rem;
    align-items: flex-start;
  }
  
  .evolution-edit-button {
    align-self: stretch;
    justify-content: center;
  }
}
