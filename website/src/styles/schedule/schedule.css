/* ==============================
   Schedule Components
   ============================== */

/* ---------- Schedule Page ---------- */

.schedule-page {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-medium);
  padding: var(--spacing-medium);
  max-width: 1200px;
  margin: 0 auto;
}

.schedule-page__header {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xsmall);
}

.schedule-page__header h1 {
  margin: 0;
  color: var(--accent-color);
  font-size: var(--font-size-xxlarge);
}

.schedule-page__header p {
  margin: 0;
  color: var(--text-color-muted);
}

.schedule-content {
  background-color: var(--primary-color);
  border-radius: var(--border-radius-medium);
  padding: var(--spacing-medium);
}

/* ---------- Schedule Tabs ---------- */

.schedule-tabs {
  display: flex;
  gap: var(--spacing-xxsmall);
  border-bottom: 1px solid var(--border-color);
  margin-bottom: var(--spacing-medium);
  overflow-x: auto;
}

.schedule-tabs .tab-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-xsmall) var(--spacing-small);
  background: none;
  border: none;
  border-bottom: 2px solid transparent;
  color: var(--text-color-muted);
  font-size: var(--font-size-medium);
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.schedule-tabs .tab-button:hover {
  color: var(--text-color);
  background-color: var(--overlay-light);
}

.schedule-tabs .tab-button.active {
  color: var(--text-color);
  border-bottom-color: var(--accent-color);
}

/* ---------- Tab Content ---------- */

.schedule-tab {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-medium);
}

.schedule-tab__header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-small);
}

.schedule-tab__header h2 {
  margin: 0;
  color: var(--text-color);
  font-size: var(--font-size-xlarge);
}

/* ---------- Tab Filters ---------- */

.tab-filters {
  display: flex;
  gap: var(--spacing-xsmall);
  flex-wrap: wrap;
}

.tab-filters .filter-button {
  display: flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  background-color: var(--primary-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-small);
  color: var(--text-color-muted);
  font-size: var(--font-size-small);
  cursor: pointer;
  transition: all 0.2s ease;
}

.tab-filters .filter-button:hover {
  background-color: var(--primary-color-hover);
  color: var(--text-color);
}

.tab-filters .filter-button.active {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  color: var(--text-color);
}

/* ---------- Item List ---------- */

.item-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-small);
}

/* ---------- Item Card ---------- */

.item-card {
  background-color: var(--background-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-medium);
  padding: var(--spacing-small);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xsmall);
}

.item-card--pending {
  border-left: 3px solid var(--warning-color);
}

.item-card--completed {
  border-left: 3px solid var(--success-color);
}

.item-card--active {
  border-left: 3px solid var(--success-color);
}

.item-card--paused {
  border-left: 3px solid var(--text-color-muted);
}

.item-card--inactive {
  border-left: 3px solid var(--text-color-muted);
  opacity: 0.7;
}

.item-card__header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--spacing-small);
}

.item-card__title {
  margin: 0;
  font-size: var(--font-size-large);
  color: var(--text-color);
  font-weight: 600;
}

.schedule-item-description {
  margin: 0;
  color: var(--text-color-muted);
  font-size: var(--font-size-small);
}

/* ---------- Item Status Badge ---------- */

.item-status {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-xsmall);
  font-weight: 600;
  text-transform: capitalize;
}

.item-status--pending {
  background-color: var(--warning-dark);
  color: var(--warning-color);
}

.item-status--completed {
  background-color: var(--success-dark);
  color: var(--success-color);
}

.item-status--active {
  background-color: var(--success-dark);
  color: var(--success-color);
}

.item-status--paused,
.item-status--inactive {
  background-color: var(--primary-color);
  color: var(--text-color-muted);
}

.item-status--due {
  background-color: var(--error-dark);
  color: var(--error-color);
}

/* ---------- Item Meta ---------- */

.item-meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xsmall);
}

.item-meta span {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  background-color: var(--primary-color);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
}

/* ---------- Item Actions ---------- */

.item-actions {
  display: flex;
  gap: var(--spacing-xsmall);
  flex-wrap: wrap;
  margin-top: var(--spacing-xsmall);
  padding-top: var(--spacing-xsmall);
  border-top: 1px solid var(--border-color);
}

/* ---------- Streak Badge ---------- */

.streak-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-small);
  font-weight: 600;
}

.streak-badge--active {
  background-color: var(--success-dark);
  color: var(--success-color);
}

.streak-badge--at_risk {
  background-color: var(--warning-dark);
  color: var(--warning-color);
}

.streak-badge--broken {
  background-color: var(--error-dark);
  color: var(--error-color);
}

.streak-badge--muted {
  background-color: var(--primary-color);
  color: var(--text-color-muted);
}

/* ---------- Task Steps ---------- */

.task-steps {
  background-color: var(--primary-color);
  border-radius: var(--border-radius-small);
  padding: var(--spacing-xsmall);
}

.task-steps h4 {
  margin: 0 0 var(--spacing-xsmall) 0;
  font-size: var(--font-size-small);
  color: var(--text-color);
}

.task-steps ul {
  margin: 0;
  padding-left: var(--spacing-medium);
  list-style: decimal;
}

.task-steps li {
  color: var(--text-color-muted);
  font-size: var(--font-size-small);
  padding: var(--spacing-xxsmall) 0;
}

.task-steps li.completed {
  color: var(--success-color);
  text-decoration: line-through;
}

/* ---------- Routine Items ---------- */

.routine-items {
  background-color: var(--primary-color);
  border-radius: var(--border-radius-small);
  padding: var(--spacing-xsmall);
}

.routine-items h4 {
  margin: 0 0 var(--spacing-xsmall) 0;
  font-size: var(--font-size-small);
  color: var(--text-color);
}

.routine-item-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xxsmall);
  list-style: none;
  margin: 0;
  padding: 0;
}

.routine-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-xsmall);
  background-color: var(--background-color);
  border-radius: var(--border-radius-small);
  border: 1px solid var(--border-color);
}

.routine-item.completed {
  opacity: 0.6;
  border-color: var(--success-color);
}

.routine-item.completed .routine-item__title {
  text-decoration: line-through;
  color: var(--success-color);
}

.routine-item__content {
  display: flex;
  align-items: center;
  gap: var(--spacing-small);
  flex: 1;
}

.routine-item__title {
  font-size: var(--font-size-small);
  color: var(--text-color);
}

.routine-item__time {
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
}

.routine-item__complete {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.75rem;
  height: 1.75rem;
  background-color: var(--success-dark);
  border: none;
  border-radius: 50%;
  color: var(--success-color);
  cursor: pointer;
  transition: all 0.2s ease;
}

.routine-item__complete:hover {
  background-color: var(--success-color);
  color: var(--text-color);
}

/* ---------- Completion Badge ---------- */

.completion-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  background-color: var(--accent-color);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-xsmall);
  font-weight: 600;
  color: var(--text-color);
}

/* ---------- Empty State ---------- */

.schedule-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-small);
  padding: var(--spacing-xlarge);
  text-align: center;
}

.schedule-empty i {
  font-size: clamp(2rem, 1.5rem + 1.5vw, 3.5rem);
  color: var(--text-color-muted);
}

.schedule-empty h3 {
  margin: 0;
  color: var(--text-color);
}

.schedule-empty p {
  margin: 0;
  color: var(--text-color-muted);
  max-width: 400px;
}

/* ---------- Dashboard ---------- */

.dashboard-tab {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-medium);
}

.dashboard-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-small);
}

.dashboard-header h2 {
  margin: 0;
  color: var(--text-color);
  font-size: var(--font-size-xlarge);
}

/* Dashboard Stats Grid */
.dashboard-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-small);
}

.dashboard-stat-card {
  background-color: var(--background-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-medium);
  padding: var(--spacing-small);
}

.dashboard-stat-card h3 {
  display: flex;
  align-items: center;
  gap: var(--spacing-xsmall);
  margin: 0 0 var(--spacing-small) 0;
  font-size: var(--font-size-medium);
  color: var(--accent-color);
}

.dashboard-stat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-xxsmall) 0;
}

.dashboard-stat__label {
  font-size: var(--font-size-small);
  color: var(--text-color-muted);
}

.dashboard-stat__value {
  font-size: var(--font-size-medium);
  font-weight: 600;
  color: var(--text-color);
}

/* Recent Activity */
.recent-activity {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-medium);
}

.recent-activity > h3 {
  margin: 0;
  font-size: var(--font-size-large);
  color: var(--text-color);
  border-bottom: 2px solid var(--border-color);
  padding-bottom: var(--spacing-xsmall);
}

.activity-section {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-small);
}

.activity-section h4 {
  display: flex;
  align-items: center;
  gap: var(--spacing-xsmall);
  margin: 0;
  font-size: var(--font-size-medium);
  color: var(--text-color);
}

/* Quick Actions */
.schedule-quick-actions {
  display: flex;
  gap: var(--spacing-small);
  flex-wrap: wrap;
  padding-top: var(--spacing-small);
  border-top: 1px solid var(--border-color);
}

/* ---------- Form Sections for Modals ---------- */

.schedule-form {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-medium);
}

.schedule-form__section {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-small);
}

.schedule-form__section h4 {
  display: flex;
  align-items: center;
  gap: var(--spacing-xsmall);
  margin: 0;
  font-size: var(--font-size-medium);
  color: var(--accent-color);
  border-bottom: 2px solid var(--border-color);
  padding-bottom: var(--spacing-xsmall);
}

.schedule-form__row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: var(--spacing-small);
}

.schedule-form__help {
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
  margin-top: var(--spacing-xxsmall);
}

/* ---------- Tag Input ---------- */

.tag-input {
  display: flex;
  gap: var(--spacing-xsmall);
}

.tag-input input {
  flex: 1;
}

.tag-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xxsmall);
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-small);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  background-color: var(--secondary-color);
  border-radius: var(--border-radius-large);
  font-size: var(--font-size-xsmall);
  color: var(--text-color);
  border: 1px solid var(--border-color);
}

.tag-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1rem;
  height: 1rem;
  background: none;
  border: none;
  color: var(--text-color-muted);
  cursor: pointer;
  padding: 0;
}

.tag-remove:hover {
  color: var(--error-color);
}

/* ---------- Step Input ---------- */

.step-input {
  display: flex;
  gap: var(--spacing-xsmall);
}

.step-input input {
  flex: 1;
}

.step-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xxsmall);
}

.step-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-xsmall);
  background-color: var(--primary-color);
  border-radius: var(--border-radius-small);
}

.schedule-step-number {
  font-weight: 600;
  color: var(--accent-color);
  min-width: 1.5rem;
}

.step-text {
  flex: 1;
  color: var(--text-color);
  font-size: var(--font-size-small);
}

.step-remove {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.5rem;
  height: 1.5rem;
  background: none;
  border: none;
  color: var(--text-color-muted);
  cursor: pointer;
  padding: 0;
}

.step-remove:hover {
  color: var(--error-color);
}

/* ---------- Day Selection ---------- */

.day-selection {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xsmall);
}

.day-checkbox {
  display: flex;
  align-items: center;
  gap: var(--spacing-xxsmall);
  padding: var(--spacing-xxsmall) var(--spacing-xsmall);
  background-color: var(--primary-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-small);
  cursor: pointer;
  transition: all 0.2s ease;
}

.day-checkbox:has(input:checked) {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
}

.day-checkbox input {
  display: none;
}

.day-checkbox span {
  font-size: var(--font-size-xsmall);
  color: var(--text-color);
  text-transform: capitalize;
}

/* ---------- Pattern Options ---------- */

.pattern-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: var(--spacing-xsmall);
}

.pattern-option {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-xsmall);
  background-color: var(--primary-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-small);
  cursor: pointer;
  transition: all 0.2s ease;
}

.pattern-option:has(input:checked) {
  border-color: var(--accent-color);
  background-color: var(--primary-color-hover);
}

.pattern-option input {
  margin-top: 0.25rem;
  accent-color: var(--accent-color);
}

.pattern-info {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xxsmall);
}

.pattern-info strong {
  font-size: var(--font-size-small);
  color: var(--text-color);
}

.pattern-info small {
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
}

/* ---------- Routine Items List (Modal) ---------- */

.routine-items-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xsmall);
}

.routine-item-card {
  background-color: var(--background-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-small);
  padding: var(--spacing-xsmall);
}

.routine-item-card__header {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xsmall);
}

.routine-item-card__order {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xxsmall);
}

.routine-item-card__order .order-number {
  font-weight: 600;
  color: var(--accent-color);
  font-size: var(--font-size-small);
}

.routine-item-card__content {
  flex: 1;
}

.routine-item-card__content h5 {
  margin: 0;
  font-size: var(--font-size-small);
  color: var(--text-color);
}

.routine-item-card__content p {
  margin: var(--spacing-xxsmall) 0 0 0;
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
}

.routine-item-card__meta {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-xsmall);
  margin-top: var(--spacing-xxsmall);
}

.routine-item-card__meta span {
  font-size: var(--font-size-xsmall);
  color: var(--text-color-muted);
}

/* ---------- Add Item Form ---------- */

.add-item-form {
  background-color: var(--background-color);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius-small);
  padding: var(--spacing-small);
  display: flex;
  flex-direction: column;
  gap: var(--spacing-small);
}

.add-item-form h5 {
  margin: 0;
  font-size: var(--font-size-medium);
  color: var(--accent-color);
}

.add-item-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-xsmall);
}

/* ---------- Tips List ---------- */

.tips-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-xsmall);
  background-color: var(--primary-color);
  border-radius: var(--border-radius-small);
}

.tip-item {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xsmall);
  font-size: var(--font-size-small);
  color: var(--text-color-muted);
}

.tip-item i {
  color: var(--accent-color);
  margin-top: 0.125rem;
}

/* ---------- Alert ---------- */

.schedule-alert {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-xsmall);
  padding: var(--spacing-small);
  border-radius: var(--border-radius-small);
  font-size: var(--font-size-small);
}

.schedule-alert--error {
  background-color: var(--error-dark);
  color: var(--error-color);
}

.schedule-alert--success {
  background-color: var(--success-dark);
  color: var(--success-color);
}

.schedule-alert i {
  margin-top: 0.125rem;
}

/* ---------- Responsive ---------- */

@media (max-width: 768px) {
  .schedule-tabs {
    gap: 0;
  }

  .schedule-tab__header {
    flex-direction: column;
    align-items: stretch;
  }

  .dashboard-stats {
    grid-template-columns: 1fr;
  }

  .item-card__header {
    flex-direction: column;
    gap: var(--spacing-xsmall);
  }

  .item-actions {
    flex-direction: column;
  }

  .item-actions .button {
    width: 100%;
    justify-content: center;
  }

  .schedule-form__row {
    grid-template-columns: 1fr;
  }

  .pattern-options {
    grid-template-columns: 1fr;
  }

  .schedule-quick-actions {
    flex-direction: column;
  }

  .schedule-quick-actions .button {
    width: 100%;
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .tab-filters {
    flex-direction: column;
  }

  .tab-filters .filter-button {
    width: 100%;
    justify-content: center;
  }

  .day-selection {
    flex-direction: column;
  }

  .day-checkbox {
    width: 100%;
    justify-content: center;
  }
}
