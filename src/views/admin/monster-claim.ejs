<% /* Set the title and other variables for the layout */ %>
<% title = 'Claim Monster' %>

<style>
.form-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    background: rgba(30, 37, 50, 0.5);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.form-title {
    text-align: center;
    margin-bottom: 2rem;
}

.form-section {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 12px;
}

.form-section-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    color: var(--accent-color, #d4b3ff);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 0.5rem;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.form-control {
    width: 100%;
    padding: 0.75rem;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: #fff;
    font-size: 1rem;
}

.form-control:focus {
    outline: none;
    border-color: var(--accent-color, #d4b3ff);
    box-shadow: 0 0 0 2px rgba(212, 179, 255, 0.2);
}

.form-control:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.form-actions {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
}

.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-primary {
    background-color: var(--accent-color, #d4b3ff);
    color: #000;
}

.btn-primary:hover {
    background-color: #c49ef7;
}

.btn-secondary {
    background-color: rgba(255, 255, 255, 0.1);
    color: #fff;
}

.btn-secondary:hover {
    background-color: rgba(255, 255, 255, 0.2);
}

.monster-type {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
}

.monster-type.Normal { background-color: #A8A878; color: #fff; }
.monster-type.Fire { background-color: #F08030; color: #fff; }
.monster-type.Water { background-color: #6890F0; color: #fff; }
.monster-type.Electric { background-color: #F8D030; color: #000; }
.monster-type.Grass { background-color: #78C850; color: #fff; }
.monster-type.Ice { background-color: #98D8D8; color: #000; }
.monster-type.Fighting { background-color: #C03028; color: #fff; }
.monster-type.Poison { background-color: #A040A0; color: #fff; }
.monster-type.Ground { background-color: #E0C068; color: #000; }
.monster-type.Flying { background-color: #A890F0; color: #fff; }
.monster-type.Psychic { background-color: #F85888; color: #fff; }
.monster-type.Bug { background-color: #A8B820; color: #fff; }
.monster-type.Rock { background-color: #B8A038; color: #fff; }
.monster-type.Ghost { background-color: #705898; color: #fff; }
.monster-type.Dragon { background-color: #7038F8; color: #fff; }
.monster-type.Dark { background-color: #705848; color: #fff; }
.monster-type.Steel { background-color: #B8B8D0; color: #000; }
.monster-type.Fairy { background-color: #EE99AC; color: #000; }

.monster-attribute {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    font-weight: 600;
}

.monster-attribute.Vaccine { background-color: #78C850; color: #fff; }
.monster-attribute.Variable { background-color: #F8D030; color: #000; }
.monster-attribute.Virus { background-color: #F08030; color: #fff; }
.monster-attribute.Data { background-color: #6890F0; color: #fff; }
.monster-attribute.Free { background-color: #A8A878; color: #fff; }

@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
    }

    .form-actions {
        flex-direction: column;
        gap: 1rem;
    }

    .btn {
        width: 100%;
    }
}
</style>

<div class="container mt-8 mb-12">
    <div class="form-container">
        <h1 class="form-title text-4xl font-display font-bold">Claim Monster</h1>

        <form action="/admin/monster-claim" method="POST">
            <!-- Monster Information Section -->
            <div class="form-section">
                <h2 class="form-section-title">Monster Information</h2>
                
                <div class="form-group">
                    <label for="trainer_id">Trainer</label>
                    <select id="trainer_id" name="trainer_id" class="form-control" required>
                        <option value="">Select a Trainer</option>
                        <% trainers.forEach(trainer => { %>
                            <option value="<%= trainer.id %>"><%= trainer.name %> (<%= trainer.player_display_name %>)</option>
                        <% }); %>
                    </select>
                </div>

                <div class="form-group">
                    <label for="monster_name">Monster Name</label>
                    <input type="text" id="monster_name" name="monster_name" class="form-control" required>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="species1">Primary Species</label>
                        <input type="text" id="species1" name="species1" class="form-control" value="<%= monsterData.species1 || '' %>" required>
                    </div>

                    <div class="form-group">
                        <label for="species2">Secondary Species</label>
                        <input type="text" id="species2" name="species2" class="form-control" value="<%= monsterData.species2 || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="species3">Tertiary Species</label>
                        <input type="text" id="species3" name="species3" class="form-control" value="<%= monsterData.species3 || '' %>">
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="type1">Type 1</label>
                        <input type="text" id="type1" name="type1" class="form-control" value="<%= monsterData.type1 || '' %>" required>
                    </div>

                    <div class="form-group">
                        <label for="type2">Type 2</label>
                        <input type="text" id="type2" name="type2" class="form-control" value="<%= monsterData.type2 || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="type3">Type 3</label>
                        <input type="text" id="type3" name="type3" class="form-control" value="<%= monsterData.type3 || '' %>">
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="type4">Type 4</label>
                        <input type="text" id="type4" name="type4" class="form-control" value="<%= monsterData.type4 || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="type5">Type 5</label>
                        <input type="text" id="type5" name="type5" class="form-control" value="<%= monsterData.type5 || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="attribute">Attribute</label>
                        <select id="attribute" name="attribute" class="form-control">
                            <option value="Vaccine" <%= monsterData.attribute === 'Vaccine' ? 'selected' : '' %>>Vaccine</option>
                            <option value="Variable" <%= monsterData.attribute === 'Variable' ? 'selected' : '' %>>Variable</option>
                            <option value="Virus" <%= monsterData.attribute === 'Virus' ? 'selected' : '' %>>Virus</option>
                            <option value="Data" <%= monsterData.attribute === 'Data' ? 'selected' : '' %>>Data</option>
                            <option value="Free" <%= monsterData.attribute === 'Free' ? 'selected' : '' %>>Free</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Form Actions -->
            <div class="form-actions">
                <a href="/admin/monster-roller" class="btn btn-secondary">Back to Roller</a>
                <button type="submit" class="btn btn-primary">Create Monster</button>
            </div>
        </form>
    </div>
</div>
